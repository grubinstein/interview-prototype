const a33_0x37b408=a33_0xf6bb;(function(_0x2ad790,_0x55e34d){const _0x1ee578=a33_0xf6bb,_0x21f6d1=_0x2ad790();while(!![]){try{const _0x3094ac=-parseInt(_0x1ee578(0xf8))/0x1+parseInt(_0x1ee578(0xe6))/0x2+-parseInt(_0x1ee578(0x103))/0x3+-parseInt(_0x1ee578(0x104))/0x4+parseInt(_0x1ee578(0xef))/0x5+-parseInt(_0x1ee578(0xf2))/0x6*(-parseInt(_0x1ee578(0xfa))/0x7)+-parseInt(_0x1ee578(0x105))/0x8*(-parseInt(_0x1ee578(0xec))/0x9);if(_0x3094ac===_0x55e34d)break;else _0x21f6d1['push'](_0x21f6d1['shift']());}catch(_0x3b1732){_0x21f6d1['push'](_0x21f6d1['shift']());}}}(a33_0x1f96,0xac281));import a33_0x49daa5 from'../rng/rngAdapter.js';import a33_0x2402d3 from'events';import a33_0x3450b2 from'../session/Session.js';import a33_0x7df009 from'express';function a33_0xf6bb(_0x33fdfa,_0x346184){const _0x1f9610=a33_0x1f96();return a33_0xf6bb=function(_0xf6bb08,_0x10c7a1){_0xf6bb08=_0xf6bb08-0xd2;let _0x1c614c=_0x1f9610[_0xf6bb08];return _0x1c614c;},a33_0xf6bb(_0x33fdfa,_0x346184);}import a33_0x56dd6f from'../../gamesList.js';const router=a33_0x7df009[a33_0x37b408(0x101)](),getComposer=_0x5b9232=>{const _0x4a0337=a33_0x37b408,_0x27a3b4=a33_0x56dd6f[_0x4a0337(0xdb)](({apiSlug:_0x5a3456})=>_0x5a3456==_0x5b9232),_0x172f85=_0x4a0337(0xd8)+_0x27a3b4['productPath'];return import(_0x172f85);},isSkillGame=_0x383780=>{const _0x25911a=a33_0x37b408,_0x25e1a6=a33_0x56dd6f[_0x25911a(0xdb)](({apiSlug:_0xed9057})=>_0xed9057==_0x383780);return _0x25e1a6[_0x25911a(0xed)];},gamePromises={},gameEventEmitters={},errorEmitters={};router['get'](a33_0x37b408(0xfb),async(_0x11175a,_0x209e5f,_0xf2f339)=>{const _0x154a99=a33_0x37b408;try{const _0x3d6b03=_0x11175a['params'][_0x154a99(0xf7)],{stakeType:_0x40d48e,stake:_0x1af032,gaffe:_0x1a9d15}=_0x11175a[_0x154a99(0xd9)];let {seed:_0x25d7b3}=_0x11175a[_0x154a99(0xd9)];const _0x2e44db=_0x1a9d15?_0x1a9d15['split'](',')[_0x154a99(0xe3)](_0x13580c=>Number(_0x13580c)):undefined,_0x3b7a5c=new a33_0x49daa5();if(typeof _0x25d7b3==_0x154a99(0xee))_0x25d7b3=Math['floor'](Math[_0x154a99(0xd7)]()*0x3b9aca00);_0x3b7a5c[_0x154a99(0xe8)](_0x25d7b3);if(typeof _0x2e44db!=='undefined')_0x3b7a5c[_0x154a99(0xe2)](_0x2e44db);const _0x325a93=new a33_0x3450b2({'stake':_0x1af032,'stakeType':_0x40d48e}),{getGame:_0xf20002}=await getComposer(_0x3d6b03),_0x5bd354=await _0xf20002(_0x3b7a5c);_0x5bd354['getPersistentState'](_0x325a93),_0x209e5f[_0x154a99(0xf9)](_0x325a93);}catch(_0x26e5e5){_0xf2f339(_0x26e5e5);}});const runSkillGame=async(_0x5c05ed,_0x14ea12,_0x417e64)=>{const _0xa60d54=a33_0x37b408;let _0x4a6172=![];const _0x45332b=new a33_0x2402d3();try{const _0x1d42fe=new a33_0x2402d3(),_0x1c073a=_0x5c05ed['params'][_0xa60d54(0xf7)],{stakeType:_0x52f238,stake:_0x146c6c,gaffe:_0x40d3c9}=_0x5c05ed[_0xa60d54(0xd9)];let {session:_0x3adeff,seed:_0x3039b3}=_0x5c05ed['query'];const _0x2494c9=_0x40d3c9?_0x40d3c9[_0xa60d54(0xe7)](',')[_0xa60d54(0xe3)](_0x5bef80=>Number(_0x5bef80)):undefined,_0xff6a67=new a33_0x49daa5();if(typeof _0x3039b3=='undefined')_0x3039b3=Math[_0xa60d54(0xdf)](Math['random']()*0x3b9aca00);_0xff6a67[_0xa60d54(0xe8)](_0x3039b3);if(typeof _0x2494c9!==_0xa60d54(0xee))_0xff6a67['setGaffe'](_0x2494c9);const _0xd3f124=new a33_0x3450b2({'stake':Number(_0x146c6c),'stakeType':_0x52f238});Object[_0xa60d54(0xf5)](_0x5c05ed['query'])[_0xa60d54(0xeb)](([_0x199201,_0x518714])=>{const _0x2c991f=_0xa60d54;if([_0x2c991f(0xfe),_0x2c991f(0xfd)]['includes'](_0x199201))return;_0xd3f124[_0x199201]=_0x518714;});if(_0x3adeff)_0xd3f124['persistent']=JSON['parse'](_0x3adeff)['persistent'];const {getGame:_0x388006}=await getComposer(_0x1c073a),_0x221123=await _0x388006(_0xff6a67,_0x1d42fe);_0x221123['live']=!![];if(_0x221123[_0xa60d54(0xe1)]?.['freeSpins'])_0x221123[_0xa60d54(0xe1)]['freeSpins'][_0xa60d54(0x106)]=!![];if(_0x221123[_0xa60d54(0xe1)]?.[_0xa60d54(0xde)])_0x221123['feature']['enduranceBonus'][_0xa60d54(0x106)]=!![];const _0x2a1215=Math[_0xa60d54(0xdf)](Math[_0xa60d54(0xd7)]()*Math['pow'](0x2,0x20));gameEventEmitters[_0x2a1215]=_0x1d42fe,errorEmitters[_0x2a1215]=_0x45332b,_0xd3f124[_0xa60d54(0xd2)]=_0x2a1215;const _0x4028e0=[{'event':_0xa60d54(0xfd),'seed':_0x3039b3}],_0x404b89=_0x5225a7=>{const _0x5b1a1c=_0xa60d54;_0x4028e0[_0x5b1a1c(0xf6)](_0x5225a7);if(!(_0x5225a7[_0x5b1a1c(0xda)]==_0x5b1a1c(0xff)&&!_0x4a6172))return;_0x4a6172=!![],_0x1d42fe[_0x5b1a1c(0xd5)]('event',_0x404b89),_0x14ea12[_0x5b1a1c(0xf9)]({'events':_0x4028e0,'session':_0xd3f124,'gameId':_0x2a1215});};_0x1d42fe['on'](_0xa60d54(0xda),_0x404b89);const _0xd14dd3=_0x221123['play'](_0xd3f124);gamePromises[_0x2a1215]=_0xd14dd3,await _0xd14dd3,_0x1d42fe[_0xa60d54(0xd5)]('event',_0x404b89);if(_0x4a6172)return;delete gameEventEmitters[_0x2a1215],delete gamePromises[_0x2a1215],delete errorEmitters[_0x2a1215],_0x14ea12[_0xa60d54(0xf9)]({'events':_0x4028e0,'session':_0xd3f124});}catch(_0x579389){if(!_0x4a6172)_0x417e64(_0x579389);else _0x45332b[_0xa60d54(0xf0)](_0xa60d54(0xfc),_0x579389);}};function a33_0x1f96(){const _0x6218aa=['playerDecision','6JxxVdG','/api/games/:game/play','total','entries','push','game','669220UtOuuu','json','4214917TzjBKu','/api/games/:game/session','error','seed','session','playerChoice','/api/games/:game/crash','Router','blowitup','1992270VsLVhm','2891400fLBKXg','201224LzhtBb','live','type','gameId','get','params','removeListener','crashBonusInitiated','random','../products/','query','event','find','winnings','persistent','enduranceBonus','floor','play','feature','setGaffe','map','choice','/api/games/:game/decision','2068130HTGeeT','split','setSeed','freeSpins','parse','forEach','54uvVTOd','skill','undefined','4870995BeXpFm','emit'];a33_0x1f96=function(){return _0x6218aa;};return a33_0x1f96();}router[a33_0x37b408(0xd3)](a33_0x37b408(0xe5),async(_0x47b923,_0x519949,_0x46f6d1)=>{const _0x30658c=a33_0x37b408;let _0x24d8e7,_0x46938f=![];try{const _0x2784a2=JSON[_0x30658c(0xea)](_0x47b923[_0x30658c(0xd9)][_0x30658c(0xe4)]),_0x5ccd22=JSON[_0x30658c(0xea)](_0x47b923[_0x30658c(0xd9)]['identifiers']),_0x45766c=_0x47b923['query'][_0x30658c(0xd2)],_0x597078=gameEventEmitters[_0x45766c];_0x24d8e7=errorEmitters[_0x45766c],_0x597078['emit'](_0x30658c(0xda),{'event':_0x30658c(0xf1),'choice':_0x2784a2,'identifiers':_0x5ccd22});const _0x144a50=[],_0x28cdd0=_0x31df3b=>{const _0x1f08ec=_0x30658c;_0x144a50[_0x1f08ec(0xf6)](_0x31df3b);if(!(_0x31df3b[_0x1f08ec(0xda)]==_0x1f08ec(0xff)&&!_0x46938f))return;_0x46938f=!![],_0x597078[_0x1f08ec(0xd5)](_0x1f08ec(0xda),_0x28cdd0),_0x519949['json']({'events':_0x144a50});};_0x597078['on'](_0x30658c(0xda),_0x28cdd0),await gamePromises[_0x45766c],_0x597078[_0x30658c(0xd5)](_0x30658c(0xda),_0x28cdd0);if(_0x46938f)return;_0x519949[_0x30658c(0xf9)]({'events':_0x144a50}),_0x24d8e7['on']('error',_0x4ebcfc=>{if(!_0x46938f)throw _0x4ebcfc;});}catch(_0x556bf4){if(!_0x46938f)_0x46f6d1(_0x556bf4);else _0x24d8e7&&_0x24d8e7[_0x30658c(0xf0)]('error',_0x556bf4);}});const runBlowItUpGame=async(_0x48a432,_0x33ecba,_0x111f6f)=>{const _0x31275e=a33_0x37b408;try{const _0x37827d=_0x48a432[_0x31275e(0xd4)][_0x31275e(0xf7)],{stakeType:_0x2fa81b,stake:_0x12abef,gaffe:_0x34f70a}=_0x48a432[_0x31275e(0xd9)];let {session:_0x3d0d99,seed:_0x5bc9ac}=_0x48a432[_0x31275e(0xd9)];const _0x26e1b5=_0x34f70a?_0x34f70a[_0x31275e(0xe7)](',')[_0x31275e(0xe3)](_0x4aadfe=>Number(_0x4aadfe)):undefined,_0x3db26f=new a33_0x49daa5();if(typeof _0x5bc9ac=='undefined')_0x5bc9ac=Math[_0x31275e(0xdf)](Math['random']()*0x3b9aca00);_0x3db26f[_0x31275e(0xe8)](_0x5bc9ac);if(typeof _0x26e1b5!=='undefined')_0x3db26f[_0x31275e(0xe2)](_0x26e1b5);const _0x4d6567=new a33_0x3450b2({'stake':Number(_0x12abef),'stakeType':_0x2fa81b});if(_0x3d0d99)_0x4d6567[_0x31275e(0xdd)]=JSON[_0x31275e(0xea)](_0x3d0d99)[_0x31275e(0xdd)];const {getGame:_0x2948f3}=await getComposer(_0x37827d),_0x1a1bed=await _0x2948f3(_0x3db26f,gameEvents);_0x1a1bed[_0x31275e(0x106)]=!![],_0x1a1bed[_0x31275e(0xe9)]['freeSpins']['live']=!![];let _0x2a18dc=![];const _0x441b97=_0x5bbc54=>{const _0x5343bd=_0x31275e;_0x5c8e9b[_0x5343bd(0xf6)](_0x5bbc54);if(_0x5bbc54['event']!=_0x5343bd(0xd6)||_0x2a18dc)return;_0x2a18dc=!![],gameEvents[_0x5343bd(0xd5)]('event',_0x441b97),_0x33ecba[_0x5343bd(0xf9)]({'events':_0x5c8e9b,'session':_0x4d6567});},_0x5c8e9b=[{'event':_0x31275e(0xfd),'seed':_0x5bc9ac}];gameEvents['on']('event',_0x441b97),await _0x1a1bed[_0x31275e(0xe0)](_0x4d6567),gameEvents[_0x31275e(0xd5)](_0x31275e(0xda),_0x441b97);if(_0x2a18dc)return;_0x33ecba[_0x31275e(0xf9)]({'events':_0x5c8e9b,'session':_0x4d6567});}catch(_0x124dfd){_0x111f6f(_0x124dfd);}};router[a33_0x37b408(0xd3)](a33_0x37b408(0xf3),async(_0x40175c,_0x2bc133,_0x26fac6)=>{const _0x49fc14=a33_0x37b408;try{const _0x42ad1b=new a33_0x2402d3(),_0x1fcffa=_0x40175c['params'][_0x49fc14(0xf7)];if(isSkillGame(_0x1fcffa))return runSkillGame(_0x40175c,_0x2bc133,_0x26fac6);if(_0x1fcffa==_0x49fc14(0x102))return runBlowItUpGame(_0x40175c,_0x2bc133,_0x26fac6);const {stakeType:_0xb254f,stake:_0x1207a8,gaffe:_0xf5b035}=_0x40175c[_0x49fc14(0xd9)];let {session:_0x484d9d,seed:_0x377721}=_0x40175c[_0x49fc14(0xd9)];const _0x2ea334=_0xf5b035?_0xf5b035[_0x49fc14(0xe7)](',')[_0x49fc14(0xe3)](_0x490bbd=>Number(_0x490bbd)):undefined,_0x5e1e5a=new a33_0x49daa5();if(typeof _0x377721==_0x49fc14(0xee))_0x377721=Math[_0x49fc14(0xdf)](Math[_0x49fc14(0xd7)]()*0x3b9aca00);_0x5e1e5a[_0x49fc14(0xe8)](_0x377721);if(typeof _0x2ea334!==_0x49fc14(0xee))_0x5e1e5a['setGaffe'](_0x2ea334);const _0x3dc13e=new a33_0x3450b2({'stake':Number(_0x1207a8),'stakeType':_0xb254f});if(_0x484d9d)_0x3dc13e[_0x49fc14(0xdd)]=JSON[_0x49fc14(0xea)](_0x484d9d)[_0x49fc14(0xdd)];const {getGame:_0x55a46b}=await getComposer(_0x1fcffa),_0xbda735=await _0x55a46b(_0x5e1e5a,_0x42ad1b);_0xbda735[_0x49fc14(0x106)]=!![];if(_0xbda735[_0x49fc14(0xe9)])_0xbda735[_0x49fc14(0xe9)][_0x49fc14(0xe9)][_0x49fc14(0x106)]=!![];if(_0xbda735[_0x49fc14(0xe1)]?.[_0x49fc14(0xde)])_0xbda735[_0x49fc14(0xe1)][_0x49fc14(0xde)][_0x49fc14(0x106)]=!![];const _0x36ffb0=[{'event':_0x49fc14(0xfd),'seed':_0x377721}];_0x42ad1b['on']('event',_0x31160e=>_0x36ffb0['push'](_0x31160e)),await _0xbda735[_0x49fc14(0xe0)](_0x3dc13e),_0x2bc133['json']({'events':_0x36ffb0,'session':_0x3dc13e});}catch(_0x5e31fe){_0x26fac6(_0x5e31fe);}}),router['get'](a33_0x37b408(0x100),async(_0x13cb0d,_0x30b5dc,_0x58babe)=>{const _0x137b1f=a33_0x37b408;try{const _0x4cef52=_0x13cb0d[_0x137b1f(0xd4)][_0x137b1f(0xf7)],{cashOutTime:_0x2bfe5d,played:_0x318ec8}=_0x13cb0d[_0x137b1f(0xd9)];gameEvents['emit'](_0x137b1f(0xda),{'event':'crashBonusEnded','played':_0x318ec8,'cashOutTime':_0x2bfe5d});let _0x4fc950=![];const _0xc9e26=[],_0x30046b=_0x4a1c15=>{const _0x4489cc=_0x137b1f;_0xc9e26[_0x4489cc(0xf6)](_0x4a1c15);if(_0x4a1c15[_0x4489cc(0xda)]==_0x4489cc(0xd6)&&!_0x4fc950)_0x4fc950=!![],gameEvents[_0x4489cc(0xd5)](_0x4489cc(0xda),_0x30046b),_0x30b5dc[_0x4489cc(0xf9)]({'events':_0xc9e26});else _0x4a1c15[_0x4489cc(0xda)]==_0x4489cc(0xdc)&&_0x4a1c15[_0x4489cc(0x107)]==_0x4489cc(0xf4)&&(gameEvents[_0x4489cc(0xd5)](_0x4489cc(0xda),_0x30046b),_0x30b5dc[_0x4489cc(0xf9)]({'events':_0xc9e26}));};gameEvents['on'](_0x137b1f(0xda),_0x30046b);}catch(_0x3d38c6){_0x58babe(_0x3d38c6);}});export default router;